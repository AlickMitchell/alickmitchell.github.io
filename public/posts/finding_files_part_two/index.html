<!DOCTYPE html>
<html lang="en">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Finding Files - Part Two | Cable Kitten</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="This post explain the use of the linux find command">
    <meta name="generator" content="Hugo 0.140.2">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      
<link rel="shortcut icon" href="/favicon-16x16.png" type="image/x-icon" />


    

    

    
      <link rel="canonical" href="http://localhost:1313/posts/finding_files_part_two/">
    

    <meta property="og:url" content="http://localhost:1313/posts/finding_files_part_two/">
  <meta property="og:site_name" content="Cable Kitten">
  <meta property="og:title" content="Finding Files - Part Two">
  <meta property="og:description" content="This post explain the use of the linux find command">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-07-01T00:00:00+00:00">
    <meta property="article:tag" content="Linux">

  <meta itemprop="name" content="Finding Files - Part Two">
  <meta itemprop="description" content="This post explain the use of the linux find command">
  <meta itemprop="datePublished" content="2024-07-01T00:00:00+00:00">
  <meta itemprop="dateModified" content="2024-07-01T00:00:00+00:00">
  <meta itemprop="wordCount" content="685">
  <meta itemprop="keywords" content="Linux">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Finding Files - Part Two">
  <meta name="twitter:description" content="This post explain the use of the linux find command">

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-navy">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Cable Kitten
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/about/" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/posts/" title="Posts page">
              Posts
            </a>
          </li>
          
        </ul>
      
      
<div class="ananke-socials">
  
    
    <a href="https://bsky.app/profile/alickmitchell.bsky.social" target="_blank" rel="noopener" class="bluesky ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="bluesky link" aria-label="follow on bluesky——Opens in a new window">
      
        <span class="icon">Bluesky</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://twitter.com/AlickMitchell/" target="_blank" rel="noopener" class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" aria-label="follow on Twitter——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
      
      <a href="https://twitter.com/intent/tweet?url=http://localhost:1313/posts/finding_files_part_two/&amp;text=Finding%20Files%20-%20Part%20Two" class="ananke-social-link twitter no-underline" aria-label="share on Twitter">
        
        <span class="icon"> <svg style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>
</span>
        
      </a>
    
  </div>


      <h1 class="f1 athelas mt3 mb1">Finding Files - Part Two</h1>
      
      <p class="tracked">
        By <strong>Alick</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2024-07-01T00:00:00Z">July 1, 2024</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>In part one I gave an overview of the more fundamental features of find. Here, I&rsquo;ll go over how we can incorporate regular expressions.</p>
<p>Regular expressions are one of those skills that you&rsquo;ll end up using throughout of your career, from using in a bash script, BGP route manipulation or filtering, or a simple grep.</p>
<p>One of the features that makes find awesome is its ability to incorporate regular expressions, to create granular search patterns.</p>
<h3 id="which-regular-expressions">Which Regular Expressions</h3>
<p>Though all implementations of regular expressions have commonalities, some are more feature rich than others. Find allows us to use different types of regex.</p>
<pre tabindex="0"><code>eurus:/etc$ find -regextype help
find: Unknown regular expression type ‘help’; valid types are ‘findutils-default’, ‘ed’, ‘emacs’, ‘gnu-awk’, ‘grep’, ‘posix-awk’, ‘awk’, ‘posix-basic’, ‘posix-egrep’, ‘egrep’, ‘posix-extended’, ‘posix-minimal-basic’, ‘sed’.
</code></pre><p>Running the above command lets use know what type of regular expressions are supported. So we can change from &lsquo;findutils-default&rsquo; to a more familiar type.</p>
<p>This needs to be kept in mind, as you might find that your pattern though correct in one type of implementation, but doesn&rsquo;t work in the one set.</p>
<pre tabindex="0"><code>user:/etc$ find /etc -maxdepth 1 -type f -regex &#34;\/etc\/f.*[conf]{4}&#34;
user:/etc$ find /etc -maxdepth 1 -type f -regextype awk -regex &#34;\/etc\/f.*[conf]{4}&#34;
user:/etc$ find /etc -maxdepth 1 -type f -regextype posix-extended -regex &#34;\/etc\/f.*[conf]{4}&#34;
/etc/fuse.conf
/etc/fprintd.conf
user:/etc$ find /etc -maxdepth 1 -type f -regextype egrep -regex &#34;\/etc\/f.*[conf]{4}&#34;
/etc/fuse.conf
/etc/fprintd.conf
</code></pre><p>Above we can see that &ldquo;findutils-default&rdquo; and &ldquo;awk&rdquo; fail to match on the pattern, but if we switch to &ldquo;posix-extended&rdquo; or &ldquo;egrep&rdquo; the pattern returns the expected files.</p>
<h3 id="building-a-pattern">Building a Pattern</h3>
<p>One thing that needs to be taken into account when using the -regex flag, the pattern is matched on the absolute path, not just the file name.</p>
<pre tabindex="0"><code>user:/etc$ find /etc -maxdepth 1 -type d -regex &#34;\/etc\/sys.*&#34; 2&gt;/dev/null
/etc/systemd
/etc/sysctl.d
/etc/sysstat
user:/etc$ find /etc -maxdepth 1 -type d -regex &#34;.*\/sys.*&#34; 2&gt;/dev/null
/etc/sysctl.d
/etc/sysstat
/etc/systemd
</code></pre><p>If this part &ldquo;/etc/&rdquo; of the pattern or the wild card &ldquo;.*&rdquo; isn&rsquo;t present above, no results will be returned.</p>
<p>We have a few useful regular expressions to help use quantify sections of our patterns:</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Symbol</th>
          <th style="text-align: left">Property</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">*</td>
          <td style="text-align: left">Represents 0 or more characters when used with -regex</td>
      </tr>
      <tr>
          <td style="text-align: left">+</td>
          <td style="text-align: left">Represents 1 or more characters</td>
      </tr>
      <tr>
          <td style="text-align: left">?</td>
          <td style="text-align: left">Represents 1 or 0 characters</td>
      </tr>
      <tr>
          <td style="text-align: left">{n}</td>
          <td style="text-align: left">This sets the pattern to a certain number</td>
      </tr>
      <tr>
          <td style="text-align: left">{n,}</td>
          <td style="text-align: left">This sets the pattern to a minimum number</td>
      </tr>
      <tr>
          <td style="text-align: left">{,n}</td>
          <td style="text-align: left">This sets the pattern to a maximum number</td>
      </tr>
      <tr>
          <td style="text-align: left">{n,p}</td>
          <td style="text-align: left">This sets the pattern to a range</td>
      </tr>
  </tbody>
</table>
<p>We have an object called a Character Class, and  this allows us to set a range of characters. We use the square brackets to contain the range [].</p>
<pre tabindex="0"><code>user:/tmp/test$ ls
client.cnf  client.conf  client.config script.pl  vimrc
user:/tmp/test$ find ./ -maxdepth 1 -type f -regextype egrep -regex &#34;.*/.*\.[config]{4,}&#34;
./client.config
./client.conf
user:/tmp/test$ find ./ -maxdepth 1 -type f -regextype egrep -regex &#34;.*/.*\.[config]{4}&#34;
./client.conf
user:/tmp/test$ find ./ -maxdepth 1 -type f -regextype egrep -regex &#34;.*/.*\.[config]{,4}&#34;
./client.cnf
./client.conf
</code></pre><p>Above, we have used a Character Class and a quantifier to change our search pattern.</p>
<h4 id="metacharacters">Metacharacters</h4>
<p>The fullstop &ldquo;.&rdquo; represents any character. Below we&rsquo;ll link it with a quantifier and ends with a &ldquo;c&rdquo;.</p>
<pre tabindex="0"><code>user:/tmp/test$ ls
client.cnf  client.conf  client.config  script.pl  vimrc
user:/tmp/test$ find ./ -maxdepth 1 -type f -regextype egrep -regex &#34;\./(.){4}c&#34;
./vimrc
</code></pre><p>We can also use logic within our pattern. By using grouping with brackets and using the pipe as the or logical operator. Below, we are looking for files that end in .pl or .conf</p>
<pre tabindex="0"><code>user:/tmp/test$ ls
client.cnf  client.conf  client.config  script.pl  vimrc
user:/tmp/test$ find ./ -maxdepth 1 -type f -regextype egrep -regex &#34;.*/.*\.(pl|conf)&#34;
./script.pl
./client.conf
</code></pre><p>We can also negate characters by using the Character Class with the carrot. Below, we&rsquo;ll search from all files that start with any character other than &ldquo;c&rdquo;.</p>
<pre tabindex="0"><code>user:/tmp/test$ ls
client.cnf  client.conf  client.config script.pl  vimrc
users:/tmp/test$ find ./ -maxdepth 1 -type f -regextype egrep -regex &#34;\./[^c].*&#34;
./script.pl
./vimrc
</code></pre><h3 id="wrap-up">Wrap Up</h3>
<p>As you can see, by using regular expressions with find, it allows us to search our filesystem at an extremely granular level. If you haven&rsquo;t already learnt regular expressions, I&rsquo;d highly recommend that you do. You&rsquo;ll come across them in many areas from DevOps, Networking, Programming, too many areas to list.</p>
<ul class="pa0">
  
   <li class="list di">
     <a href="/tags/linux/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Linux</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/posts/finding_files_part_one/">Finding Files - Part One</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/single_area_ospf_on_linux/">Single Area OSPF Deployment on Linux</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/gre_tunnel_between_cisco_and_linux/">GRE Tunneling Between Cisco and Linux</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/linux_static_route/">Linux Static Route</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/posts/lfcs_journey/">My LFCS Journey</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-navy bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  Cable Kitten 2025 
  </a>
    <div>
<div class="ananke-socials">
  
    
    <a href="https://bsky.app/profile/alickmitchell.bsky.social" target="_blank" rel="noopener" class="bluesky ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="bluesky link" aria-label="follow on bluesky——Opens in a new window">
      
        <span class="icon">Bluesky</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://twitter.com/AlickMitchell/" target="_blank" rel="noopener" class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" aria-label="follow on Twitter——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
